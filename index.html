<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Fun</title>
<style>
  body {
    background-color: #32C5FF;
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
  }
  p {
    background-color: #2599C7;
    font-size: 18px;
    padding: 10px;
    border-radius: 8px;
    color: white;
  }
  img {
    max-width: 80%;
    height: auto;
  }
  input {
    font-size: 18px;
    padding: 5px;
    border-radius: 8px;
    border: 2px solid #017FB0;
  }
</style>
</head>
<body>
  <h2>vvv Das ist Nachricht Nummer 1 vvv</h2>
  <p id="msg1">Loading...</p>
  <input type="text" id="newMsg" placeholder="Schreibe deine Nachricht">
  <button id="updateBtn">Sende Nachricht (1)</button>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-app.js";
import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-database.js";

// Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyC1ZYypZ4-fms45zqA_UutYFmbXQ4q3psI",
  authDomain: "imran-id123.firebaseapp.com",
  databaseURL: "https://imran-id123-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "imran-id123",
  storageBucket: "imran-id123.firebasestorage.app",
  messagingSenderId: "397729453639",
  appId: "1:397729453639:web:c1e77be6ca3288418d4362",
  measurementId: "G-EREE36DJSL"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

// Reference to message
const msgRef = ref(db, "msg1");

// Listen for changes in Firebase and update HTML
onValue(msgRef, (snapshot) => {
  const message = snapshot.val();
  document.getElementById("msg1").textContent = message || "No message yet";
});

// Update message on button click
document.getElementById("updateBtn").addEventListener("click", () => {
  const newMessage = document.getElementById("newMsg").value;
  if (newMessage.trim() === "") return;

  set(msgRef, newMessage)
    .then(() => {
      document.getElementById("newMsg").value = ""; // clear input
      console.log("Message updated!");
    })
    .catch((error) => console.error(error));
});
</script>
</body>
</html>
